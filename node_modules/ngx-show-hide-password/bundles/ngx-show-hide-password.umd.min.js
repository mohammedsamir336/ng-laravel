!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@fortawesome/free-solid-svg-icons"),require("@angular/common"),require("@angular/forms"),require("@fortawesome/angular-fontawesome")):"function"==typeof define&&define.amd?define("ngx-show-hide-password",["exports","@angular/core","rxjs","@fortawesome/free-solid-svg-icons","@angular/common","@angular/forms","@fortawesome/angular-fontawesome"],t):t((e=e||self)["ngx-show-hide-password"]={},e.ng.core,e.rxjs,e.freeSolidSvgIcons,e.ng.common,e.ng.forms,e.angularFontawesome)}(this,(function(e,t,i,n,r,o,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var u=function(){return(u=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s}var h,c=function(){function e(){this.states=[]}return e.prototype.getIO=function(e){var t=this.states.find((function(t){return t.id===e}));return!t&&e&&(t=this.init(e)),t},e.prototype.init=function(e){var t={id:e,show:!1,subject:new i.ReplaySubject(1)};return this.states.push(t),t},e.prototype.saveAndProadcast=function(e,t){e.show=t,e.subject.next(e.show)},e.prototype.getObservable=function(e){return this.getIO(e).subject},e.prototype.setShow=function(e,t){this.saveAndProadcast(this.getIO(e),t)},e.prototype.toggleShow=function(e){var t=this.getIO(e);this.saveAndProadcast(t,!t.show)},e.ɵprov=t["ɵɵdefineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e=a([t.Injectable({providedIn:"root"})],e)}(),d=function(){function e(e,t){this.service=e,this.errorHandler=t}return e.prototype.onClick=function(){this.showHideTrigger?this.service.toggleShow(this.showHideTrigger):this.errorHandler.handleError(new Error("Status can not be changed without [id]."))},e.ctorParameters=function(){return[{type:c},{type:t.ErrorHandler}]},a([t.Input()],e.prototype,"showHideTrigger",void 0),a([t.HostListener("click")],e.prototype,"onClick",null),e=a([t.Directive({selector:"[showHideTrigger]"})],e)}(),p=function(){function e(e,t,i,n){this.service=e,this.el=t,this.renderer=i,this.errorHandler=n}return Object.defineProperty(e.prototype,"showHideStatus",{set:function(e){this.init(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var t=this;this.config=u(u({},{show:"visibility",hide:"visibility_off",materialIcon:!1,id:null}),e),this.config.id?this.subscription=this.service.getObservable(this.config.id).subscribe((function(e){return t.updateStatus(e)})):this.errorHandler.handleError(new Error("Status can not be set without [id]."))},e.prototype.updateStatus=function(e){this.config.materialIcon?this.renderer.setProperty(this.el.nativeElement,"innerHTML",e?this.config.hide:this.config.show):(this.renderer.removeClass(this.el.nativeElement,e?this.config.show:this.config.hide),this.renderer.addClass(this.el.nativeElement,e?this.config.hide:this.config.show))},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e.ctorParameters=function(){return[{type:c},{type:t.ElementRef},{type:t.Renderer2},{type:t.ErrorHandler}]},a([t.Input()],e.prototype,"showHideStatus",null),e=a([t.Directive({selector:"[showHideStatus]"})],e)}(),l=function(){function e(e,t,i){if(this.service=e,this.el=t,this.renderer=i,this.id=this.el.nativeElement.getAttribute("id"),!this.id)throw new Error("No attribute [id] found.");this.service.setShow(this.id,"password"!==this.el.nativeElement.type)}return e.prototype.ngOnInit=function(){var e=this;this.service.getObservable(this.id).subscribe((function(t){return e.renderer.setAttribute(e.el.nativeElement,"type",t?"text":"password")}))},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e.ctorParameters=function(){return[{type:c},{type:t.ElementRef},{type:t.Renderer2}]},e=a([t.Directive({selector:"input[showHideInput]"})],e)}();(h=e.BtnStyle||(e.BtnStyle={})).Primary="primary",h.Secondary="secondary",h.Success="success",h.Danger="danger",h.Warning="warning",h.Info="info",h.Dark="dark",h.Light="light";var f=function(e){return e?(e^16*Math.random()>>e/4).toString(16):(""+1e7+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,f)},g=f,y=function(){function i(t,i,r){this.service=t,this.elem=i,this.renderer=r,this.btnStyle=e.BtnStyle.Secondary,this.btnOutline=!0,this.faEye=n.faEye,this.faEyeSlash=n.faEyeSlash}return i.prototype.ngOnInit=function(){var e=this;if(this.input=this.elem.nativeElement.querySelector("input"),!this.input)throw new Error("No input element found.");this.id=this.input.getAttribute("id"),this.id||(this.id="showHideInput_"+f(),this.renderer.setAttribute(this.input,"id",this.id)),this.renderer.addClass(this.elem.nativeElement,"input-group"),"sm"===this.size?this.renderer.addClass(this.elem.nativeElement,"input-group-sm"):"lg"===this.size&&this.renderer.addClass(this.elem.nativeElement,"input-group-lg"),this.isHidden="password"===this.input.type,this.renderer.addClass(this.input,"form-control"),this.service.setShow(this.id,"password"!==this.input.type),this.subscription=this.service.getObservable(this.id).subscribe((function(t){e.isHidden=!t,e.renderer.setAttribute(e.input,"type",t?"text":"password")}))},i.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},i.ctorParameters=function(){return[{type:c},{type:t.ElementRef},{type:t.Renderer2}]},a([t.Input()],i.prototype,"btnStyle",void 0),a([t.Input()],i.prototype,"btnOutline",void 0),a([t.Input()],i.prototype,"size",void 0),i=a([t.Component({selector:"show-hide-password",changeDetection:t.ChangeDetectionStrategy.OnPush,template:'\n    <ng-content></ng-content>\n    <div class="input-group-append ngx-show-hide-password">\n      <button\n        class="btn"\n        [ngClass]="(btnOutline ? \'btn-outline-\' + btnStyle : \'btn-\' + btnStyle)"\n        type="button"\n        [showHideTrigger]="id"\n      >\n        <fa-icon\n          [fixedWidth]="true"\n          size="lg"\n          [icon]="(isHidden ? faEye : faEyeSlash)"\n          [showHideStatus]="{ id: id }"\n        ></fa-icon>\n      </button>\n    </div>\n  '})],i)}(),b=function(){function e(){}return e=a([t.NgModule({imports:[r.CommonModule,o.FormsModule,s.FontAwesomeModule],exports:[y,d,l,p],declarations:[y,d,l,p]})],e)}();e.ShowHideInputDirective=l,e.ShowHidePasswordComponent=y,e.ShowHidePasswordModule=b,e.ShowHideService=c,e.ShowHideStatusDirective=p,e.ShowHideTriggerDirective=d,e.ɵ0=g,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-show-hide-password.umd.min.js.map